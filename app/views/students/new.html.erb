<%= render partial:'/layouts/validations', locals: {model: @student} %>

<br />
<div class="well well-sm col-md-4 col-md-offset-4">
	<%= form_for @student do |f| %>
	
		<% generated_username = Time.now.strftime("%y") + (Student.count+1).to_s.rjust(4, '0') %>
		<div class="form-group">
			<%= f.label :username, class:"sr-only" %>
			<%= f.text_field :username, value: generated_username, readonly: true, class:"form-control" %><br />

			<%= f.label :course, class:"sr-only" %>
			<%= f.select :course, options_from_collection_for_select(Course.all, 'id', 'name'), {include_blank: " - Course - "}, class:"select2 form-control" %><br />

			<%= f.label :password, class:"sr-only" %>
			<%= f.hidden_field :password, value: generated_username %>

			<%= f.label :password_confirmation, class:"sr-only" %>
			<%= f.hidden_field :password_confirmation, value: generated_username %>

			<%= f.label :email, class:"sr-only" %>
			<%= f.hidden_field :email, value: "#{generated_username}@#{generated_username}.com" %>

			<%= f.label :block_class_id, class:"sr-only" %>
			<%= f.select :block_class_id, options_from_collection_for_select(BlockClass.all, 'id', 'name'), {include_blank: " - Block - "}, class:"select2 form-control" %>

	    <br />
			<%= f.submit "Submit", class:"btn btn-primary btn-block" %>
			<center>
				<%= link_to "Back to Students", students_path%>
			</center>
	  </div>
	<% end %>
</div>